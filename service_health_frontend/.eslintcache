[{"/Users/nicholas/Desktop/GithubProjects/service_health_frontend/src/index.js":"1","/Users/nicholas/Desktop/GithubProjects/service_health_frontend/src/reportWebVitals.js":"2","/Users/nicholas/Desktop/GithubProjects/service_health_frontend/src/App.js":"3","/Users/nicholas/Desktop/GithubProjects/service_health_frontend/src/Routes.js":"4","/Users/nicholas/Desktop/GithubProjects/service_health_frontend/src/containers/Home/Home.js":"5","/Users/nicholas/Desktop/GithubProjects/service_health_frontend/src/containers/Errors/NotFound/NotFound.js":"6","/Users/nicholas/Desktop/GithubProjects/service_health_frontend/src/config.js":"7","/Users/nicholas/Desktop/GithubProjects/service_health_frontend/src/containers/Login/Login.js":"8","/Users/nicholas/Desktop/GithubProjects/service_health_frontend/src/libs/contextLib.js":"9","/Users/nicholas/Desktop/GithubProjects/service_health_frontend/src/components/LoaderButton/LoaderButton.js":"10","/Users/nicholas/Desktop/GithubProjects/service_health_frontend/src/libs/errorLib.js":"11","/Users/nicholas/Desktop/GithubProjects/service_health_frontend/src/libs/hooksLib.js":"12","/Users/nicholas/Desktop/GithubProjects/service_health_frontend/src/containers/Signup/Signup.js":"13","/Users/nicholas/Desktop/GithubProjects/service_health_frontend/src/libs/awsLib.js":"14","/Users/nicholas/Desktop/GithubProjects/service_health_frontend/src/containers/NewService/NewService.js":"15","/Users/nicholas/Desktop/GithubProjects/service_health_frontend/src/containers/Service/Service.js":"16","/Users/nicholas/Desktop/GithubProjects/service_health_frontend/src/components/UnauthenticatedRoute/UnauthenticatedRoute.js":"17","/Users/nicholas/Desktop/GithubProjects/service_health_frontend/src/components/AuthenticatedRoute/AuthenticatedRoute.js":"18"},{"size":1202,"mtime":1607234988536,"results":"19","hashOfConfig":"20"},{"size":362,"mtime":1607233768958,"results":"21","hashOfConfig":"20"},{"size":2141,"mtime":1607235599757,"results":"22","hashOfConfig":"20"},{"size":1163,"mtime":1607297229410,"results":"23","hashOfConfig":"20"},{"size":2391,"mtime":1607291289424,"results":"24","hashOfConfig":"20"},{"size":231,"mtime":1607234666604,"results":"25","hashOfConfig":"20"},{"size":509,"mtime":1607234947704,"results":"26","hashOfConfig":"20"},{"size":1907,"mtime":1607235865001,"results":"27","hashOfConfig":"20"},{"size":168,"mtime":1607235224288,"results":"28","hashOfConfig":"20"},{"size":490,"mtime":1607235659728,"results":"29","hashOfConfig":"20"},{"size":208,"mtime":1607235752235,"results":"30","hashOfConfig":"20"},{"size":286,"mtime":1607235820374,"results":"31","hashOfConfig":"20"},{"size":3768,"mtime":1607236093909,"results":"32","hashOfConfig":"20"},{"size":245,"mtime":1607290617623,"results":"33","hashOfConfig":"20"},{"size":2152,"mtime":1607291014765,"results":"34","hashOfConfig":"20"},{"size":3562,"mtime":1607291966043,"results":"35","hashOfConfig":"20"},{"size":398,"mtime":1607297143634,"results":"36","hashOfConfig":"20"},{"size":511,"mtime":1607297118031,"results":"37","hashOfConfig":"20"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},"1xxnjn1",{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"71","usedDeprecatedRules":"40"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/nicholas/Desktop/GithubProjects/service_health_frontend/src/index.js",[],["76","77"],"/Users/nicholas/Desktop/GithubProjects/service_health_frontend/src/reportWebVitals.js",[],"/Users/nicholas/Desktop/GithubProjects/service_health_frontend/src/App.js",[],"/Users/nicholas/Desktop/GithubProjects/service_health_frontend/src/Routes.js",[],"/Users/nicholas/Desktop/GithubProjects/service_health_frontend/src/containers/Home/Home.js",[],"/Users/nicholas/Desktop/GithubProjects/service_health_frontend/src/containers/Errors/NotFound/NotFound.js",[],"/Users/nicholas/Desktop/GithubProjects/service_health_frontend/src/config.js",[],"/Users/nicholas/Desktop/GithubProjects/service_health_frontend/src/containers/Login/Login.js",[],"/Users/nicholas/Desktop/GithubProjects/service_health_frontend/src/libs/contextLib.js",[],"/Users/nicholas/Desktop/GithubProjects/service_health_frontend/src/components/LoaderButton/LoaderButton.js",[],"/Users/nicholas/Desktop/GithubProjects/service_health_frontend/src/libs/errorLib.js",[],"/Users/nicholas/Desktop/GithubProjects/service_health_frontend/src/libs/hooksLib.js",[],"/Users/nicholas/Desktop/GithubProjects/service_health_frontend/src/containers/Signup/Signup.js",[],"/Users/nicholas/Desktop/GithubProjects/service_health_frontend/src/libs/awsLib.js",[],"/Users/nicholas/Desktop/GithubProjects/service_health_frontend/src/containers/NewService/NewService.js",[],"/Users/nicholas/Desktop/GithubProjects/service_health_frontend/src/containers/Service/Service.js",["78"],"import React, { useRef, useState, useEffect } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport { API, Storage } from \"aws-amplify\";\nimport { onError } from \"../../libs/errorLib\";\nimport Form from \"react-bootstrap/Form\";\nimport LoaderButton from \"../../components/LoaderButton/LoaderButton\";\nimport config from \"../../config\";\nimport \"./Service.css\";\n\nexport default function Services() {\n  const file = useRef(null);\n  const { id } = useParams();\n  const history = useHistory();\n  const [service, setServices] = useState(null);\n  const [content, setContent] = useState(\"\");\n\n  const [isLoading, setIsLoading] = useState(false);\n  const [isDeleting, setIsDeleting] = useState(false);\n\n  useEffect(() => {\n    function loadService() {\n      return API.get(\"service\", `/service/${id}`);\n    }\n\n    async function onLoad() {\n      try {\n        const service = await loadService();\n        const { content, attachment } = service;\n\n        if (attachment) {\n            service.attachmentURL = await Storage.vault.get(attachment);\n        }\n\n        setContent(content);\n        setServices(service);\n      } catch (e) {\n        onError(e);\n      }\n    }\n\n    onLoad();\n  }, [id]);\n\n  function validateForm() {\n    return content.length > 0;\n  }\n  \n  function formatFilename(str) {\n    return str.replace(/^\\w+-/, \"\");\n  }\n  \n  function handleFileChange(event) {\n    file.current = event.target.files[0];\n  }\n  \n  async function handleSubmit(event) {\n    let attachment;\n  \n    event.preventDefault();\n  \n    if (file.current && file.current.size > config.MAX_ATTACHMENT_SIZE) {\n      alert(\n        `Please pick a file smaller than ${config.MAX_ATTACHMENT_SIZE /\n          1000000} MB.`\n      );\n      return;\n    }\n  \n    setIsLoading(true);\n  }\n  \n  function deleteService() {\n    return API.del(\"service\", `/service/${id}`);\n  }\n  \n  async function handleDelete(event) {\n    event.preventDefault();\n  \n    const confirmed = window.confirm(\n      \"Are you sure you want to delete this service?\"\n    );\n  \n    if (!confirmed) {\n      return;\n    }\n  \n    setIsDeleting(true);\n  \n    try {\n      await deleteService();\n      history.push(\"/\");\n    } catch (e) {\n      onError(e);\n      setIsDeleting(false);\n    }\n  }\n  \n  return (\n    <div className=\"Services\">\n      {service && (\n        <Form onSubmit={handleSubmit}>\n          <Form.Group controlId=\"content\">\n            <Form.Control\n              as=\"textarea\"\n              value={content}\n              onChange={(e) => setContent(e.target.value)}\n            />\n          </Form.Group>\n          <Form.Group controlId=\"file\">\n            <Form.Label>Attachment</Form.Label>\n            {service.attachment && (\n              <p>\n                <a\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  href={service.attachmentURL}\n                >\n                  {formatFilename(service.attachment)}\n                </a>\n              </p>\n            )}\n            <Form.Control onChange={handleFileChange} type=\"file\" />\n          </Form.Group>\n          <LoaderButton\n            block\n            size=\"lg\"\n            type=\"submit\"\n            isLoading={isLoading}\n            disabled={!validateForm()}\n          >\n            Save\n          </LoaderButton>\n          <LoaderButton\n            block\n            size=\"lg\"\n            variant=\"danger\"\n            onClick={handleDelete}\n            isLoading={isDeleting}\n          >\n            Delete\n          </LoaderButton>\n        </Form>\n      )}\n    </div>\n  );\n}","/Users/nicholas/Desktop/GithubProjects/service_health_frontend/src/components/UnauthenticatedRoute/UnauthenticatedRoute.js",[],"/Users/nicholas/Desktop/GithubProjects/service_health_frontend/src/components/AuthenticatedRoute/AuthenticatedRoute.js",[],{"ruleId":"79","replacedBy":"80"},{"ruleId":"81","replacedBy":"82"},{"ruleId":"83","severity":1,"message":"84","line":57,"column":9,"nodeType":"85","messageId":"86","endLine":57,"endColumn":19},"no-native-reassign",["87"],"no-negated-in-lhs",["88"],"no-unused-vars","'attachment' is defined but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation"]